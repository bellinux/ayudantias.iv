<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ejemplo</title>
    <style>
       svg {
            background-color: #f8f9fa;
            border: 2px solid black;
        }

        .barra {
            fill: red;
        }

       

        text {
            font-family: Arial, sans-serif;
            font-size: 14px;
            fill: black;
        }
    </style>
</head>
<body>
    <button onclick="crear_grafico(Chile)">Chile</button>
    <button onclick="crear_grafico(China)">China</button>
    <button onclick="crear_grafico(EEUU)">EEUU</button>
    <button onclick="crear_grafico(Turquia)">Turquía</button>

    <svg id="Grafico" width="600" height="300" style="border:1px solid black;"></svg>

    <script>
        const graph = document.getElementById("Grafico");

        var Chile = [
            { "Deporte": "Fitness", "Porcentaje": 28 },
            { "Deporte": "Futbol", "Porcentaje": 26 },
            { "Deporte": "Ciclismo", "Porcentaje": 10 },
            { "Deporte": "Running", "Porcentaje": 7 },
            { "Deporte": "Tenis", "Porcentaje": 4 }
        ];

        var China = [
            { "Deporte": "Tenis de mesa", "Porcentaje": 34 },
            { "Deporte": "Badminton", "Porcentaje": 30 },
            { "Deporte": "Baloncesto", "Porcentaje": 20 },
            { "Deporte": "Futbol", "Porcentaje": 15 },
            { "Deporte": "Natación", "Porcentaje": 10 }
        ];

        var EEUU = [
            { "Deporte": "Baloncesto", "Porcentaje": 15 },
            { "Deporte": "Futbol Americano", "Porcentaje": 12 },
            { "Deporte": "Beisbol", "Porcentaje": 9 },
            { "Deporte": "Futbol", "Porcentaje": 8 },
            { "Deporte": "Natación", "Porcentaje": 7 }
        ];

        var Turquia = [
            { "Deporte": "Futbol", "Porcentaje": 40 },
            { "Deporte": "Baloncesto", "Porcentaje": 20 },
            { "Deporte": "Lucha libre turca", "Porcentaje": 15 },
            { "Deporte": "Voleibol", "Porcentaje": 10 },
            { "Deporte": "Atletismo", "Porcentaje": 8 }
        ];

        function crear_grafico(data) {
            graph.innerHTML = ''; 

            data.forEach(function(element, i) {
                const barra = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                barra.setAttribute("width", element.Porcentaje * 10); 
                barra.setAttribute("height", 20);
                barra.setAttribute("x", 120);
                barra.setAttribute("y", i * 30 + 10); 
                barra.setAttribute("class","barra")
                graph.appendChild(barra);
                barra.addEventListener("mouseover", () => {
                  barra.style.fill="orange";
                  
                });
                barra.addEventListener("mouseout", () => {
                  barra.style.fill="red";
                  
                })
                

       
                const texto = document.createElementNS("http://www.w3.org/2000/svg", "text");
                texto.setAttribute("x", 10);
                texto.setAttribute("y", i * 30 + 25);
                texto.setAttribute("font-size", "14px");
                texto.textContent = element.Deporte;
                graph.appendChild(texto);
              
                const texto2 = document.createElementNS("http://www.w3.org/2000/svg", "text");
                texto2.setAttribute("x", element.Porcentaje * 10 + 130); 
                texto2.setAttribute("y", i * 30 + 25);
                texto2.setAttribute("font-size", "14px");
                texto2.setAttribute("text-anchor", "start"); 
                texto2.textContent = element.Porcentaje + "%"; 
                graph.appendChild(texto2);
            });
        }
      
    </script>
</body>
</html>
